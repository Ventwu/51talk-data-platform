{
  "meta": {
    "project": "51talk-data-platform",
    "date": "2025-09-03",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "51Talk运营数据中台系统为运营部门构建统一的数据分析平台，支持多种数据源管理、拖拽式仪表盘设计及实时数据展示，提升运营团队的数据决策效率。",
  "core_goals": [
    "整合多数据源，实现统一数据视图",
    "提供灵活、高效的可视化仪表盘设计工具",
    "支持实时数据监控和预警功能",
    "实现完善的用户权限和数据安全管理",
    "保障系统高可用性和性能响应"
  ],
  "key_features": [
    "多数据源管理：支持MySQL、PostgreSQL、SQLite数据库连接及配置",
    "用户认证及权限管理：包含登录注册、角色分配、JWT认证",
    "拖拽式仪表盘设计器：可视化布局设计、数据字段绑定与图表配置",
    "丰富图表组件库：柱状图、折线图、饼图、表格和仪表盘等多种图表类型",
    "数据处理引擎：支持SQL构建、数据转换及实时数据刷新",
    "模板管理和数据导出：自定义仪表盘模板，支持Excel和PDF导出",
    "实时预警通知：关键指标异常时自动通知",
    "系统监控与日志管理：健康检测、性能监控及错误日志记录"
  ],
  "user_flow_summary": [
    "用户注册和登录，系统进行身份验证和权限校验",
    "用户创建和管理数据源，进行连接测试确保数据库访问正常",
    "通过仪表盘设计器拖拽添加图表，选择数据源、表及字段，配置计算和筛选条件",
    "保存设计的仪表盘布局并实时预览数据展示效果",
    "用户在首页查看个性化仪表盘，支持拖拽调整布局及实时数据刷新",
    "权限管理员设置角色及访问权限，控制数据和仪表盘的访问范围",
    "系统自动监控服务状态并生成日志供运维分析"
  ],
  "validation_criteria": [
    "用户登录注册流程功能正常，JWT认证有效且安全",
    "多数据源管理支持主流数据库，连接测试准确反馈状态",
    "仪表盘设计器支持拖拽布局、图表添加及属性配置功能，数据绑定正确",
    "图表组件展示准确，支持用户配置的各种图表类型及样式",
    "数据查询引擎响应时间不超过3秒，支持高并发请求",
    "系统可用性达到99%以上，支持7×24小时稳定运行",
    "页面响应式设计覆盖主流浏览器及多设备",
    "权限控制严格，防止未授权访问数据和操作",
    "性能监控和日志记录正常，能及时反映系统状态",
    "数据库备份自动执行，数据能按要求恢复"
  ],
  "code_summary": {
    "project_name": "51talk-data-platform",
    "project_description": "51Talk运营数据中台系统 - 支持多数据源管理、可视化仪表盘设计和数据分析展示",
    "tech_stack": {
      "frontend": {
        "framework": "React 18",
        "language": "TypeScript",
        "build_tool": "Vite",
        "ui_library": "Ant Design",
        "chart_library": "ECharts (待集成)",
        "state_management": "React Context/Hooks",
        "routing": "React Router"
      },
      "backend": {
        "runtime": "Node.js",
        "framework": "Express.js",
        "language": "TypeScript",
        "database_orm": "Sequelize",
        "authentication": "JWT",
        "security": "Helmet, CORS, Rate Limiting",
        "logging": "Morgan",
        "task_scheduler": "node-cron"
      },
      "database": {
        "primary": "MySQL",
        "supported": [
          "MySQL",
          "PostgreSQL",
          "SQLite"
        ],
        "connection_pooling": "mysql2"
      },
      "development": {
        "package_manager": "npm",
        "dev_server": "nodemon",
        "concurrent_dev": "concurrently",
        "typescript_runner": "ts-node"
      }
    },
    "project_structure": {
      "frontend": {
        "path": "frontend/",
        "entry_point": "src/main.tsx",
        "components": "src/components/",
        "pages": "src/pages/",
        "services": "src/services/",
        "types": "src/types/"
      },
      "backend": {
        "path": "backend/",
        "entry_point": "src/server.ts",
        "controllers": "src/controllers/",
        "routes": "src/routes/",
        "services": "src/services/",
        "models": "src/models/",
        "middleware": "src/middleware/",
        "config": "src/config/"
      },
      "database": {
        "path": "database/",
        "migrations": "migrations/",
        "seeds": "seeds/",
        "schema": "schema.sql"
      },
      "docs": {
        "path": "docs/",
        "business_development": "business-development/",
        "api_docs": "api/"
      }
    },
    "core_features": {
      "user_management": {
        "description": "用户认证和权限管理系统",
        "components": [
          "登录/注册",
          "角色管理",
          "JWT认证"
        ],
        "status": "已实现基础功能"
      },
      "data_source_management": {
        "description": "多数据库连接和管理",
        "components": [
          "数据源配置",
          "连接测试",
          "CRUD操作"
        ],
        "supported_databases": [
          "MySQL",
          "PostgreSQL",
          "SQLite"
        ],
        "status": "已实现基础架构"
      },
      "dashboard_designer": {
        "description": "拖拽式仪表盘设计器",
        "components": [
          "布局设计",
          "图表组件",
          "数据绑定"
        ],
        "status": "开发中"
      },
      "chart_components": {
        "description": "可配置图表组件库",
        "chart_types": [
          "柱状图",
          "折线图",
          "饼图",
          "表格",
          "仪表盘"
        ],
        "library": "ECharts",
        "status": "待集成"
      },
      "data_processing": {
        "description": "数据处理和查询引擎",
        "components": [
          "SQL构建器",
          "数据转换",
          "实时刷新"
        ],
        "status": "基础架构已完成"
      }
    },
    "api_endpoints": {
      "authentication": {
        "base_path": "/api/auth",
        "endpoints": [
          "/login",
          "/register",
          "/logout",
          "/profile"
        ]
      },
      "data_sources": {
        "base_path": "/api/datasources",
        "endpoints": [
          "/",
          "/:id",
          "/test",
          "/tables"
        ]
      },
      "dashboards": {
        "base_path": "/api/dashboards",
        "endpoints": [
          "/",
          "/:id",
          "/:id/charts"
        ]
      },
      "charts": {
        "base_path": "/api/charts",
        "endpoints": [
          "/",
          "/:id",
          "/data"
        ]
      },
      "system": {
        "base_path": "/api/system",
        "endpoints": [
          "/health",
          "/stats",
          "/logs"
        ]
      }
    },
    "database_schema": {
      "users": {
        "description": "用户信息表",
        "key_fields": [
          "id",
          "username",
          "email",
          "role",
          "password_hash"
        ]
      },
      "data_sources": {
        "description": "数据源配置表",
        "key_fields": [
          "id",
          "name",
          "type",
          "host",
          "port",
          "database",
          "config"
        ]
      },
      "dashboards": {
        "description": "仪表盘信息表",
        "key_fields": [
          "id",
          "name",
          "description",
          "layout",
          "user_id"
        ]
      },
      "charts": {
        "description": "图表配置表",
        "key_fields": [
          "id",
          "dashboard_id",
          "chart_type",
          "data_source_id",
          "query_config",
          "chart_config"
        ]
      },
      "user_sessions": {
        "description": "用户会话表",
        "key_fields": [
          "id",
          "user_id",
          "token",
          "expires_at"
        ]
      }
    },
    "development_status": {
      "completed": [
        "项目基础架构搭建",
        "前后端框架初始化",
        "数据库设计和初始化",
        "用户认证基础功能",
        "数据源管理基础架构",
        "API路由和中间件配置"
      ],
      "in_progress": [
        "前端页面和组件开发",
        "仪表盘设计器功能",
        "图表组件库集成"
      ],
      "pending": [
        "ECharts图表库集成",
        "拖拽式布局功能",
        "数据处理引擎优化",
        "权限管理完善",
        "性能优化",
        "测试和部署"
      ]
    },
    "key_dependencies": {
      "frontend": {
        "react": "^18.2.0",
        "typescript": "^5.0.0",
        "vite": "^5.0.0",
        "antd": "^5.0.0",
        "axios": "^1.6.0"
      },
      "backend": {
        "express": "^5.1.0",
        "typescript": "^5.0.0",
        "mysql2": "^3.14.4",
        "jsonwebtoken": "^9.0.2",
        "bcryptjs": "^3.0.2",
        "node-cron": "^3.0.3"
      }
    },
    "configuration": {
      "environment_variables": [
        "NODE_ENV",
        "PORT",
        "DB_HOST",
        "DB_PORT",
        "DB_NAME",
        "DB_USER",
        "DB_PASSWORD",
        "JWT_SECRET",
        "CORS_ORIGIN"
      ],
      "development_ports": {
        "frontend": 5173,
        "backend": 3001,
        "database": 3306
      }
    },
    "testing_scope": {
      "frontend_features": [
        "用户登录注册流程",
        "数据源管理界面",
        "仪表盘创建和编辑",
        "图表组件展示",
        "响应式布局",
        "权限控制界面"
      ],
      "backend_features": [
        "API接口功能",
        "数据库连接和操作",
        "用户认证和授权",
        "数据源连接测试",
        "查询构建和执行",
        "错误处理和日志"
      ],
      "integration_features": [
        "前后端数据交互",
        "实时数据刷新",
        "文件上传下载",
        "权限验证流程",
        "多数据库支持"
      ]
    }
  }
}
